(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,n){e.exports=n(73)},40:function(e,t,n){},42:function(e,t,n){},44:function(e,t,n){},68:function(e,t){},71:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),c=n(27),r=n.n(c),i=(n(40),n(32)),u=n(28),o=n(29),m=n(33),l=n(30),g=n(34),d=(n(42),n(44),function(e){var t=e.value,n=e.onChange,a=e.onSend;return s.a.createElement("form",{onSubmit:a,className:"send-block"},s.a.createElement("input",{value:t,onChange:n,className:"input-message"}),s.a.createElement("button",{className:"send",type:"submit"},"Send"))}),f=n(31),p=n.n(f),v=(n(71),function(e){var t=e.item;return s.a.createElement("div",{className:"container-message"},s.a.createElement("span",{className:"message"},t.user),s.a.createElement("span",{className:"message end"},t.text))}),h=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(l.a)(t).call(this,e))).setListeners=function(){n.socket=p()("localhost:5000"),n.socket.on("connect",function(){n.socket.emit("addUser",n.state.currentUser)}),n.socket.on("message",function(e){n.state.isLogin&&n.addMessage(e)}),n.socket.on("updateUsers",function(e){console.log(e)})},n.changeMessage=function(e){n.setState({inputMsg:e.target.value})},n.validName=function(e){return""!==e&&"Anon"!==e},n.inputName=function(){var e=n.div.current.value;n.validName(e)&&(n.setState({currentUser:e,isLogin:!0}),n.setListeners())},n.addMessage=function(e){n.setState(function(t){var n=t.messages;return{inputMsg:"",messages:[].concat(Object(i.a)(n),[{user:e.name,text:e.message}])}})},n.sendMessage=function(e){e.preventDefault();var t=n.state,a=t.currentUser,s=t.inputMsg;s.trim().length&&(n.socket.emit("message",{name:a,message:s}),n.setState({inputMsg:""}))},n.div=s.a.createRef(),n.state={currentUser:"Anon",messages:[],inputMsg:"",isLogin:!1,users:{}},n.socket=null,n}return Object(g.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.messages,n=e.inputMsg,a=e.currentUser,c=e.isLogin;e.users;return c?s.a.createElement("div",{className:"chat"},s.a.createElement("div",{className:"message-list"},s.a.createElement("div",{className:"messages"},t.map(function(e,t){return s.a.createElement(v,{item:e,key:t})}))),s.a.createElement(d,{value:n,onChange:this.changeMessage,onSend:this.sendMessage})):s.a.createElement("div",{className:"login"},s.a.createElement("span",null,"Welcome!"),s.a.createElement("input",{ref:this.div,defaultValue:a}),s.a.createElement("button",{onClick:this.inputName},"OK"))}}]),t}(a.Component);r.a.render(s.a.createElement(h,null),document.getElementById("root"))}},[[35,2,1]]]);
//# sourceMappingURL=main.552524a5.chunk.js.map